@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		/* === Gas Town Design System === */
		/* Primary: #EF6F2E | Accent: #6A7282 | Background: #F8F8F8 | Text: #020202 */

		/* Core colors */
		--background: 0 0% 97%;
		--foreground: 0 0% 1%;
		--card: 0 0% 100%;
		--card-foreground: 0 0% 1%;
		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 1%;
		--primary: 18 86% 56%;
		--primary-foreground: 0 0% 100%;
		--secondary: 220 10% 92%;
		--secondary-foreground: 0 0% 1%;
		--muted: 220 10% 92%;
		--muted-foreground: 220 10% 40%;
		--accent: 220 10% 46%;
		--accent-foreground: 0 0% 100%;
		--destructive: 0 84% 60%;
		--destructive-foreground: 0 0% 100%;
		--border: 220 10% 85%;
		--input: 220 10% 88%;
		--ring: 18 86% 56%;
		--radius: 0.5rem;

		/* === Typography === */
		--font-sans: 'Inter', system-ui, -apple-system, sans-serif;
		--font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;

		/* === Spacing Scale (based on 4px grid) === */
		--space-1: 0.25rem;  /* 4px */
		--space-2: 0.5rem;   /* 8px */
		--space-3: 0.75rem;  /* 12px */
		--space-4: 1rem;     /* 16px */
		--space-5: 1.25rem;  /* 20px */
		--space-6: 1.5rem;   /* 24px */
		--space-7: 1.75rem;  /* 28px */
		--space-8: 2rem;     /* 32px */
		--space-9: 2.25rem;  /* 36px */
		--space-10: 2.5rem;  /* 40px */
		--space-11: 2.75rem; /* 44px */
		--space-12: 3rem;    /* 48px */

		/* === Animation Tokens === */
		--duration-instant: 50ms;
		--duration-fast: 150ms;
		--duration-normal: 200ms;
		--duration-slow: 300ms;
		--duration-slower: 500ms;
		--ease-out: cubic-bezier(0.16, 1, 0.3, 1);
		--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
		--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
		--delay-stagger: 50ms;

		/* === Semantic Feedback Colors (HSL) === */
		--success: 160 84% 39%;
		--success-foreground: 0 0% 100%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 0%;
		--info: 199 89% 48%;
		--info-foreground: 0 0% 100%;

		/* === Status Colors (HSL) === */
		--status-online: 142 76% 36%;
		--status-offline: 0 84% 60%;
		--status-pending: 38 92% 50%;
		--status-idle: 220 9% 46%;

		/* === Shadow Tokens === */
		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.04);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.05);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.04);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.08), 0 8px 10px -6px rgb(0 0 0 / 0.04);
		--shadow-glow: 0 0 20px -5px hsl(var(--primary) / 0.4);
		--shadow-focus: 0 0 0 3px hsl(var(--ring) / 0.25);

		/* === Touch Target === */
		--touch-target-min: 44px;
	}

	.dark {
		--background: 0 0% 4%;
		--foreground: 0 0% 95%;
		--card: 0 0% 7%;
		--card-foreground: 0 0% 95%;
		--popover: 0 0% 7%;
		--popover-foreground: 0 0% 95%;
		--primary: 18 86% 58%;
		--primary-foreground: 0 0% 0%;
		--secondary: 0 0% 14%;
		--secondary-foreground: 0 0% 95%;
		--muted: 0 0% 14%;
		--muted-foreground: 0 0% 60%;
		--accent: 220 10% 22%;
		--accent-foreground: 0 0% 95%;
		--destructive: 0 62% 35%;
		--destructive-foreground: 0 0% 95%;
		--border: 0 0% 16%;
		--input: 0 0% 14%;
		--ring: 18 86% 58%;

		--success: 160 84% 39%;
		--success-foreground: 0 0% 100%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 0%;
		--info: 199 89% 48%;
		--info-foreground: 0 0% 100%;

		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.4);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.5), 0 2px 4px -2px rgb(0 0 0 / 0.4);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.4);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.4);
		--shadow-glow: 0 0 30px -5px hsl(var(--primary) / 0.5);
	}
}

@layer base {
	* {
		@apply border-border;
	}

	body {
		@apply bg-background text-foreground;
		font-family: var(--font-sans);
		font-feature-settings: 'rlig' 1, 'calt' 1;
	}

	code, pre, .font-mono {
		font-family: var(--font-mono);
	}
}

/* === Glass Morphism Utilities === */
@layer components {
	/* Standard glass panel - subtle blur with semi-transparent background */
	.panel-glass {
		@apply bg-background/80 backdrop-blur-xl border border-border rounded-lg;
	}

	/* Strong glass panel - more pronounced blur effect */
	.panel-glass-strong {
		@apply bg-background/90 backdrop-blur-2xl border border-border rounded-lg;
	}

	/* Glass card variant - for elevated surfaces */
	.card-glass {
		@apply bg-card/80 backdrop-blur-xl border border-border rounded-lg shadow-md;
	}

	/* Glass popover variant - for floating elements */
	.popover-glass {
		@apply bg-popover/85 backdrop-blur-xl border border-border rounded-lg shadow-lg;
	}
}

/* Fallback for browsers without backdrop-filter support */
@supports not (backdrop-filter: blur(1px)) {
	.panel-glass {
		@apply bg-background/95 border border-border rounded-lg;
	}

	.panel-glass-strong {
		@apply bg-background border border-border rounded-lg;
	}

	.card-glass {
		@apply bg-card/95 border border-border rounded-lg shadow-md;
	}

	.popover-glass {
		@apply bg-popover/95 border border-border rounded-lg shadow-lg;
	}
}

/* === Status Indicator Utilities === */
@layer utilities {
	.status-online {
		background-color: hsl(var(--status-online));
	}

	.status-offline {
		background-color: hsl(var(--status-offline));
	}

	.status-pending {
		background-color: hsl(var(--status-pending));
		animation: pulse-status 2s infinite;
	}

	.status-idle {
		background-color: hsl(var(--status-idle));
	}

	/* Touch target enforcement */
	.touch-target {
		min-height: var(--touch-target-min);
		min-width: var(--touch-target-min);
	}

	/* Focus visible ring */
	.focus-ring {
		@apply outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
	}

	/* Stagger animation delays */
	.stagger-0 { animation-delay: 0ms; animation-fill-mode: both; }
	.stagger-1 { animation-delay: calc(1 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-2 { animation-delay: calc(2 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-3 { animation-delay: calc(3 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-4 { animation-delay: calc(4 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-5 { animation-delay: calc(5 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
}

/* === Keyframe Animations === */
@keyframes pulse-status {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

/* === Reduced Motion Preference === */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}

	.status-pending {
		animation: none;
	}
}

/* === Scrollbar Styling === */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background: hsl(var(--border));
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: hsl(var(--muted-foreground) / 0.5);
}

/* Firefox scrollbar */
* {
	scrollbar-width: thin;
	scrollbar-color: hsl(var(--border)) transparent;
}
