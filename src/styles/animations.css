/**
 * Animation Styles
 *
 * Keyframe definitions and animation utilities.
 * Includes reduced motion preferences.
 */

/* === Keyframe Animations === */
@keyframes pulse-status {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

@keyframes glow-pulse {
	0%, 100% {
		opacity: 0.4;
	}
	50% {
		opacity: 0.7;
	}
}

@keyframes shimmer {
	0% {
		transform: translateX(-100%);
	}
	100% {
		transform: translateX(100%);
	}
}

@keyframes vim-sequence-appear {
	from {
		opacity: 0;
		transform: translateY(8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

/* === Animation Performance: will-change hints === */
/* Applied judiciously to animated elements for compositor layer promotion */
@layer utilities {
	/* Blur-fade animations: promote to compositor layer during animation */
	.animate-blur-fade-up,
	.animate-blur-fade-down,
	.animate-blur-fade-left,
	.animate-blur-fade-right {
		will-change: transform, opacity;
	}

	/* Scale animations */
	.animate-scale-in,
	.animate-scale-out {
		will-change: transform, opacity;
	}

	/* Slide animations */
	.animate-slide-in-up,
	.animate-slide-in-down,
	.animate-slide-in-left,
	.animate-slide-in-right {
		will-change: transform, opacity;
	}

	/* Spin animation */
	.animate-spin,
	.animate-spin-slow,
	.animate-spin-fast {
		will-change: transform;
	}

	/* Remove will-change after animation completes to free memory */
	/* For one-shot animations, use animation-fill-mode: forwards and JS cleanup */
}

/* === Reduced Motion Preference === */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-delay: 0ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}

	.status-pending {
		animation: none;
	}

	/* Remove stagger delays */
	.stagger > *,
	[class*="stagger-"] {
		animation-delay: 0ms !important;
	}

	/* Show static alternatives for animated elements */
	.motion-safe\\:hidden {
		display: block !important;
	}

	.motion-safe\\:block {
		display: none !important;
	}

	/* Replace blur animations with opacity fade */
	[class*="blur-fade"] {
		filter: none !important;
		animation: fade-in 0.01ms !important;
	}

	/* Disable shimmer effect */
	.animate-shimmer,
	.shimmer-effect::after {
		animation: none !important;
		transform: none !important;
	}

	/* Hide shimmer overlay in reduced motion */
	.shimmer-effect::after {
		display: none !important;
	}

	/* Replace glow pulse with static glow */
	.animate-glow-pulse,
	.glow-pulse-effect::before {
		animation: none !important;
		opacity: 0.7 !important;
	}

	/* Remove will-change in reduced motion (no animations = no need for layer promotion) */
	[class*="animate-"],
	.shimmer-effect::after,
	.glow-pulse-effect::before {
		will-change: auto !important;
	}
}

/* Utility classes for motion-aware components */
@media (prefers-reduced-motion: no-preference) {
	.motion-reduce\\:hidden {
		display: none;
	}
}
